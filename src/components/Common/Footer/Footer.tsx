import { Fragment, type FC } from "react";
import { FILL_RULE } from "../../../types";
import type { IconParams, objType} from "../../../types";
import { ColumnSpoiler } from "./ColumnSpoiler";
import { ColumnInfo } from "./ColumnInfo";
import { useLocation } from "react-router-dom";
import { accountPath, favouritesPath, flightPath, hotelPath, startPath } from "../../../App";

const SOCIALS = {
    facebook: "Facebook",
    instagram: "Instagram",
    twitter: "Twitter",
    youtube: "YouTube"
} as const;

export const Footer : FC = () => {
    let location = useLocation();
    const getIcon = (about : objType<typeof SOCIALS>) : IconParams => {
        switch(about){
            case SOCIALS.facebook:
                return {
                    viewbox: {minX: 0, minY: 0, width: 18, height: 18}, width: 18, height: 18, pathes: [{fill: "#112211", fillRule: FILL_RULE.evenodd, stroke: "unset", strokeWidth: "unset", strokeLinecap: "butt", strokeLinejoin: "miter", d: "M0 9.05025C0 13.5248 3.24975 17.2455 7.5 18L7.5 11.4998L5.25 11.4998L5.25 9L7.5 9L7.5 6.99975C7.5 4.74975 8.94975 3.50025 11.0002 3.50025C11.6497 3.50025 12.3503 3.6 12.9998 3.69975L12.9998 6L11.85 6C10.7498 6 10.5 6.54975 10.5 7.25025L10.5 9L12.9 9L12.5002 11.4998L10.5 11.4998L10.5 18C14.7502 17.2455 18 13.5255 18 9.05025C18 4.0725 13.95 0 9 0C4.05 0 0 4.0725 0 9.05025Z"}]
                }
            case SOCIALS.instagram:
                return {
                    viewbox: {minX: 0, minY: 0, width: 17, height: 17}, width: 17, height: 17, pathes: [{fill: "#112211", fillRule: FILL_RULE.nonzero, stroke: "unset", strokeWidth: "unset", strokeLinecap: "butt", strokeLinejoin: "miter", d: "m 8.4978722,5.6654537 c -1.5608,0 -2.83454,1.27374 -2.83454,2.8345603 0,1.5608 1.27374,2.8345 2.83454,2.8345 1.5608298,0 2.8345298,-1.2737 2.8345298,-2.8345 0,-1.5608203 -1.2737,-2.8345603 -2.8345298,-2.8345603 z M 16.999402,8.500014 c 0,-1.1738103 0.0106,-2.3369703 -0.0553,-3.5086403 -0.0659,-1.36092 -0.3764,-2.56873 -1.3716,-3.56391 -0.9973,-0.99729005 -2.203,-1.30563005 -3.5639,-1.37155005 -1.1738,-0.06592 -2.3368998,-0.0552799964 -3.5085998,-0.0552799964 -1.17379,0 -2.33695,-0.0106400036 -3.50862,0.0552799964 -1.36092,0.06592 -2.56874,0.37638 -3.56391,1.37155005 -0.99730004,0.9973 -1.30563004,2.20299 -1.37155004,3.56391 -0.06592,1.1738 -0.0552900014,2.33696 -0.0552900014,3.5086403 0,1.1717 -0.0106299986,2.3369 0.0552900014,3.5086 0.06592,1.3609 0.37638,2.5687 1.37155004,3.5639 0.9973,0.9973 2.20299,1.3056 3.56391,1.3716 1.17379,0.0659 2.33695,0.0552 3.50862,0.0552 1.1738,0 2.3369998,0.0107 3.5085998,-0.0552 1.3609,-0.066 2.5688,-0.3764 3.5639,-1.3716 0.9973,-0.9973 1.3057,-2.203 1.3716,-3.5639 0.068,-1.1717 0.0553,-2.3348 0.0553,-3.5086 z m -8.5015298,4.3613 c -2.4135,0 -4.36132,-1.9478 -4.36132,-4.3613 0,-2.4135203 1.94782,-4.3613403 4.36132,-4.3613403 2.4135298,0 4.3613298,1.94782 4.3613298,4.3613403 0,2.4135 -1.9478,4.3613 -4.3613298,4.3613 z M 13.037802,4.9786137 c -0.5635,0 -1.0185,-0.45505 -1.0185,-1.01856 0,-0.5635 0.455,-1.01856 1.0185,-1.01856 0.5635,0 1.0186,0.45506 1.0186,1.01856 10e-5,0.13381 -0.0261,0.26633 -0.0772,0.38999 -0.0511,0.12365 -0.1262,0.236 -0.2208,0.33062 -0.0946,0.09461 -0.2069,0.16963 -0.3306,0.22076 -0.1237,0.05113 -0.2562,0.07736 -0.39,0.07719 z"}]
                }
            case SOCIALS.twitter:
                return {
                    viewbox: {minX: 0, minY: 0, width: 18.92, height: 15.38}, width: 18.92, height: 15.38, pathes: [{fill: "#112211", fillRule: FILL_RULE.nonzero, stroke: "unset", strokeWidth: "unset", strokeLinecap: "butt", strokeLinejoin: "miter", d: "m 18.92165,1.824599 c -0.6958,0.30833 -1.4433,0.51667 -2.2292,0.61083 0.8109,-0.48517 1.4175,-1.24878 1.7067,-2.14832997 -0.7618,0.45249 -1.5955,0.77099997 -2.465,0.94166997 -0.5847,-0.62427997 -1.3591,-1.03806997 -2.203,-1.17710997 -0.844,-0.13904 -1.7102,0.00443 -2.4643,0.40815 -0.754,0.40372 -1.3537,1.04508997 -1.7059,1.82453997 -0.35217,0.77945 -0.43717,1.65337 -0.2418,2.48608 C 7.77557,4.692929 6.26552,4.291719 4.88702,3.592849 3.50852,2.893979 2.29237,1.913069 1.3175,0.71376903 0.98417,1.288769 0.7925,1.955429 0.7925,2.665429 c -3.7e-4,0.63917 0.15703,1.26854 0.45823,1.83228 0.30121,0.56374 0.7369,1.04442 1.26844,1.39939 C 1.90273,5.877489 1.29989,5.710919 0.76083,5.411269 v 0.05 c -6e-5,0.89645 0.31003,1.76531 0.87766,2.45918 0.56762,0.6938 1.35782,1.1699 2.23651,1.3475 -0.57185,0.1547 -1.17139,0.1775 -1.75333,0.0667 0.24791,0.7713 0.73083,1.4458 1.38114,1.9291 0.65031,0.4832 1.43545,0.751 2.24552,0.7659 -1.37514,1.0795 -3.07342,1.665 -4.82166,1.6624 -0.30969,10e-5 -0.61911,-0.018 -0.92667,-0.0541 1.77456,1.141 3.84028,1.7465 5.95,1.7441 7.14165,0 11.04585,-5.915 11.04585,-11.04495 0,-0.16667 -0.0042,-0.335 -0.0117,-0.50167 0.7594,-0.54919 1.4149,-1.22925 1.9359,-2.00833 z"}]
                }
            case SOCIALS.youtube:
                return {
                    viewbox: {minX: 0, minY: 0, width: 20, height: 13.35}, 
                    width: 20, height: 13.35, pathes: [
                        {fill: "#112211", fillRule: FILL_RULE.nonzero, stroke: "unset", strokeWidth: "unset", strokeLinecap: "butt", strokeLinejoin: "miter", d: "m 19.583877,2.0933023 c -0.1133,-0.40397 -0.3339,-0.76971 -0.6384,-1.05833 -0.3131,-0.29749996 -0.6968,-0.51030996 -1.115,-0.61833996 -1.565,-0.4125 -7.8349604,-0.4125 -7.8349604,-0.4125 -2.61389,-0.02974 -5.22714,0.10107 -7.825,0.39167 -0.41818,0.11601 -0.8012,0.33357 -1.115,0.63332996 -0.30833604,0.29667 -0.53166904,0.6625 -0.64833604,1.06334 -0.280255,1.50978 -0.4164229,3.04278 -0.4066662445,4.57833 -0.009999955,1.5342 0.1258332445,3.0667 0.4066662445,4.5782997 0.114167,0.3992 0.336667,0.7634 0.64583604,1.0575 0.30916,0.2942 0.69416,0.5067 1.1175,0.6192 1.58583,0.4117 7.825,0.4117 7.825,0.4117 2.6172604,0.0297 5.2337604,-0.1011 7.8349604,-0.3917 0.4182,-0.108 0.8019,-0.3208 1.115,-0.6183 0.3044,-0.2886 0.5248,-0.6544 0.6375,-1.0584 0.2876,-1.5091997 0.4274,-3.0427997 0.4175,-4.5790997 0.0217,-1.54286 -0.118,-3.08373 -0.4166,-4.59753 z m -11.5817004,7.4308 v -5.7058 l 5.2167004,2.8533 z"},
                        {fill: "#112211", fillRule: FILL_RULE.nonzero, stroke: "unset", strokeWidth: "unset", strokeLinecap: "butt", strokeLinejoin: "miter", d: "m 19.583877,2.0933023 c -0.1133,-0.40397 -0.3339,-0.76971 -0.6384,-1.05833 -0.3131,-0.29749996 -0.6968,-0.51030996 -1.115,-0.61833996 -1.565,-0.4125 -7.8349604,-0.4125 -7.8349604,-0.4125 -2.61389,-0.02974 -5.22714,0.10107 -7.825,0.39167 -0.41818,0.11601 -0.8012,0.33357 -1.115,0.63332996 -0.30833604,0.29667 -0.53166904,0.6625 -0.64833604,1.06334 -0.280255,1.50978 -0.4164229,3.04278 -0.4066662445,4.57833 -0.009999955,1.5342 0.1258332445,3.0667 0.4066662445,4.5782997 0.114167,0.3992 0.336667,0.7634 0.64583604,1.0575 0.30916,0.2942 0.69416,0.5067 1.1175,0.6192 1.58583,0.4117 7.825,0.4117 7.825,0.4117 2.6172604,0.0297 5.2337604,-0.1011 7.8349604,-0.3917 0.4182,-0.108 0.8019,-0.3208 1.115,-0.6183 0.3044,-0.2886 0.5248,-0.6544 0.6375,-1.0584 0.2876,-1.5091997 0.4274,-3.0427997 0.4175,-4.5790997 0.0217,-1.54286 -0.118,-3.08373 -0.4166,-4.59753 z m -11.5817004,7.4308 v -5.7058 l 5.2167004,2.8533 z"}
                    ]
                }
        }
    }

    const socials = [
        {description: SOCIALS.facebook, path: "#"},
        {description: SOCIALS.twitter, path: "#"},
        {description: SOCIALS.youtube, path: "#"},
        {description: SOCIALS.instagram, path: "#"},
    ];
    const columns = [
        {
            title: "Our Destinations", 
            links: [
                {description: "Canada", path: "#"}, 
                {description: "Alaksa", path: "#"}, 
                {description: "France", path: "#"},
                {description: "Iceland", path: "#"}
            ]
        },
        {
            title: "Our Activities", 
            links: [
                {description: "Northern Lights", path: "#"}, 
                {description: "Cruising & sailing", path: "#"}, 
                {description: "Multi-activities", path: "#"},
                {description: "Kayaing", path: "#"}
            ]
        },
        {
            title: "Travel Blogs", 
            links: [
                {description: "Bali Travel Guide", path: "#"}, 
                {description: "Sri Lanks Travel Guide", path: "#"}, 
                {description: "Peru Travel Guide", path: "#"},
                {description: "Bali Travel Guide", path: "#"}
            ]
        },
        {
            title: "About Us", 
            links: [
                {description: "Our Story", path: "#"}, 
                {description: "Work with us", path: "#"}
            ]
        },
        {
            title: "Contact Us", 
            links: [
                {description: "Our Story", path: "#"}, 
                {description: "Work with us", path: "#"}
            ]
        }
    ]

    if(location.pathname !== startPath && 
    !location.pathname.includes(flightPath) && 
    !location.pathname.includes(hotelPath) && 
    location.pathname !== accountPath && 
    location.pathname !== favouritesPath){
        return <Fragment />
    }
    return(
        <footer className="footer">
            <div className="container">
                <article className="footer__newsletter newsletter">
                    <h2 className="newsletter__heading">Subscribe Newsletter</h2>
                    <div className="newsletter__supdescription">The Travel</div>
                    <div className="newsletter__description">Get inspired! Receive travel discounts, tips and behind the scenes stories.</div>
                    <div className="newsletter__row">
                        <input className="newsletter__input" type="text" placeholder="Your email address" />
                        <button className="newsletter__send" type="submit">Subscribe</button>
                    </div>
                </article>
            </div>
            <div className="footer__main">
                <div className="container">
                    <div className="footer__info">
                        <svg className="footer__logo" viewBox="0 0 120 39.15" fill="none">
                            <g>
                                <path d="M16.0157 6.06421L19.5155 8.70821L17.3775 11.4284C18.8536 13.0987 19.3976 15.0046 19.3976 17.1045C19.3976 19.4748 18.5037 22.8188 15.3539 24.2569C18.5418 25.8509 19.318 28.1449 19.318 30.5948C19.318 35.8828 15.2742 39.1471 9.71615 39.1471C4.15812 39.1471 0 35.765 0 30.5948L4.70215 30.5948C4.70215 33.0829 6.99604 34.715 9.71615 34.715C12.4363 34.715 14.5742 33.2388 14.5742 30.5948C14.5742 27.9508 12.0863 26.7449 9.71615 26.7449C3.73192 26.7449 0 23.0925 0 17.1045C0 11.1166 4.35217 7.38448 9.71961 7.38448C11.2373 7.38448 12.7897 7.57853 14.1134 8.47257L16.0157 6.06421ZM4.70215 17.1045C4.70215 20.4485 6.95793 22.4307 9.71615 22.4307C12.4363 22.4307 14.692 20.4104 14.692 17.1045C14.692 13.7987 12.4397 11.7022 9.71961 11.7022C6.95793 11.7022 4.70215 13.7606 4.70215 17.1045Z" fill="rgb(17,34,17)" fillRule="nonzero" />
                                <path d="M54.9878 0L54.9878 27.1746L50.2856 27.1746L50.2856 0L54.9878 0Z" fill="rgb(17,34,17)" fillRule="nonzero" />
                                <path d="M76.1179 17.6105C76.1179 23.1307 72.3479 27.6008 66.128 27.6008C59.9082 27.6008 56.1763 23.1307 56.1763 17.6105C56.1763 12.1284 59.9844 7.62012 66.0899 7.62012C72.1954 7.62012 76.1179 12.1284 76.1179 17.6105ZM60.9165 17.6105C60.9165 20.5248 62.6664 23.2485 66.1246 23.2485C69.5828 23.2485 71.3326 20.5282 71.3326 17.6105C71.3326 14.7343 69.3125 11.9344 66.1246 11.9344C62.7045 11.9344 60.9165 14.7343 60.9165 17.6105Z" fill="rgb(17,34,17)" fillRule="nonzero" />
                                <path d="M82.0465 0L82.0465 10.6141C83.1726 8.63198 86.3224 7.54389 88.3426 7.54389C93.9387 7.54389 98.1003 10.9641 98.1003 17.5724C98.1003 23.8688 93.8625 27.6009 88.2282 27.6009C85.8962 27.6009 83.5261 26.8246 82.0465 24.5306L81.7346 27.1746L77.3027 27.1746L77.3027 0L82.0465 0ZM82.3549 17.5724C82.3549 21.0307 84.919 23.2104 87.9129 23.2104C90.9448 23.2104 93.3566 20.9164 93.3566 17.5724C93.3566 14.114 90.9448 11.976 87.9129 11.976C84.9225 11.9725 82.3549 14.2284 82.3549 17.5724Z" fill="rgb(17,34,17)" fillRule="nonzero" />
                                <path d="M105.152 20.9129C106.254 23.0336 108.777 23.9381 111.919 22.7945C113.562 22.195 115.492 20.7916 116.13 19.3604L120.004 21.1347C118.822 23.7994 116.064 25.8786 113.323 26.8766C107.113 29.136 102.027 26.6444 99.9268 20.8713C97.9309 15.3927 100.221 10.0908 106.067 7.96318C112.093 5.76966 117.214 8.12605 119.217 15.7947L105.152 20.9129ZM113.6 13.6601C112.457 11.4284 110.204 10.926 107.647 11.8547C105.235 12.7314 103.69 14.62 103.884 17.1946L113.6 13.6601Z" fill="rgb(17,34,17)" fillRule="nonzero" />
                                <path d="M43.2386 13.0379C41.7013 9.83054 38.4964 7.62012 34.2213 7.62012C28.1158 7.62012 24.3076 12.1284 24.3076 17.6105C24.3076 21.1103 25.8077 24.1881 28.491 25.9722C28.6439 25.8578 28.7359 25.7835 28.7359 25.7835C30.0743 24.9103 31.3799 23.991 32.6506 23.0277C30.2567 22.3233 29.0479 20.0327 29.0479 17.6105C29.0479 14.7343 30.8393 11.9344 34.2559 11.9344C37.2647 11.9344 39.2333 14.4285 39.445 17.1269C40.7639 15.818 42.0295 14.454 43.2386 13.0379ZM33.7754 27.5917C37.5614 24.9081 41.0621 21.8426 44.2201 18.4459C43.8586 23.5747 40.1622 27.6008 34.2594 27.6008C34.0963 27.6008 33.935 27.5978 33.7754 27.5917Z" fill="rgb(255,255,255)" fillRule="evenodd" />
                                <path d="M47.1044 4.93451C42.2601 3.15336 38.7777 6.98594 38.7777 6.98594L42.08 8.9057C43.317 8.19532 43.868 8.88491 44.01 9.26262C44.1105 9.52945 43.9754 9.82053 43.868 9.97993L43.064 10.9953C38.7257 16.2278 33.6251 20.7742 27.9319 24.489C27.9319 24.489 26.2133 25.8751 25.2985 25.8959C24.5292 25.9132 24.1862 25.2652 24.8341 24.3365L23.2402 20.7396C23.2402 20.7396 19.0925 23.4564 19.8964 28.2315C20.2359 30.2483 22.1314 31.6829 24.1446 31.319C25.1737 31.1354 26.4454 30.6329 28.0012 29.6037L30.8634 27.7325C36.5566 24.0108 41.6607 19.4505 45.9955 14.211L46.9796 13.0224C48.4627 11.3349 49.128 9.94528 49.3532 8.84679C49.6997 7.16614 48.7052 5.5236 47.1044 4.93451Z" fill="rgb(255,255,255)" fillRule="nonzero" />
                            </g>
                        </svg>
                        <ul className="footer__socials">
                            {socials.map((social, i) => {
                                const {width, height, pathes} = getIcon(social.description);
                                return <li className="footer__social" key={i}>
                                    <a href={social.path}>
                                        <svg width={width} height={height} fill="none">
                                            {pathes.map((path, j) => 
                                                <path {...path} key={j} />
                                            )}
                                        </svg>
                                    </a>
                                </li>
                            })}
                        </ul>
                    </div>
                    <nav className="footer__menu">
                        {columns.map((column, i) => 
                            window.innerWidth <= 480 ? <ColumnSpoiler {...column} key={i} /> : <ColumnInfo {...column} key={i} />
                        )}
                    </nav>
                </div>
            </div>
        </footer>
    )
}