import React, { Fragment, useEffect, useRef, useState, type FC } from "react";
import { useTypedSelector } from "../../store";
import { FILL_RULE, type IconParams } from "../../types";
import { flightsPath, hotelsPath, startPath } from "../../App";
import { NavLink, useLocation } from "react-router-dom";
import { UnActiveLink } from "./Menu/UnActiveLink";
import { ActiveLink } from "./Menu/ActiveLink";
import { AuthorizationLink } from "./Authorization/Link";
import { AuthorizationHiddenLink } from "./Authorization/HiddenLink";

export interface MenuLink {
    description : string,
    path : string,
    uniqueCl : string,
    iconValue : IconParams
}

interface TabIndexes{
    logo: number,
    menu: number,
    authorization: number,
    burger: number
    hiddenAuthorization: number
}

export interface AuthorizationLink{
    id: number,
    uniqueCl: string,
    description: string,
    path: string
}

export const Header : FC = () => {
    const about = useTypedSelector(state => state.header);

    let location = useLocation();
    let [isBlackWhite, setIsBlackWhite] = useState<boolean>(location.pathname !== startPath);
    useEffect(() => {
        setIsBlackWhite(location.pathname !== startPath)
    }, [location.pathname]);

    const menuAbout : MenuLink[] = [
        {
            description: about.links.flightsPart, path: flightsPath, uniqueCl: "flights",
            iconValue: {
                width: 22.5, height: 19.5, pathes: [{fill: "#fff", fillRule: FILL_RULE.nonzero, d: "M7.99733 19.5L6.74952 19.5C6.62414 19.5 6.50077 19.4685 6.39069 19.4085C6.28062 19.3484 6.18735 19.2618 6.11941 19.1564C6.05147 19.051 6.01104 18.9303 6.0018 18.8052C5.99257 18.6802 6.01483 18.5548 6.06655 18.4406L9.08811 11.7727L4.55108 11.6719L2.89639 13.6767C2.58092 14.0733 2.32921 14.25 1.68702 14.25L0.847018 14.25C0.714021 14.2543 0.581951 14.2264 0.462001 14.1688C0.342051 14.1112 0.237757 14.0255 0.157956 13.9191C0.0463932 13.7686 -0.0632942 13.5136 0.0435808 13.1498L0.972643 9.82172C0.979674 9.79688 0.988112 9.77203 0.997487 9.74766C0.997954 9.74534 0.997954 9.74295 0.997487 9.74063C0.987806 9.71627 0.979512 9.69139 0.972643 9.66609L0.0426433 6.31687C-0.058138 5.96016 0.0520182 5.71078 0.162643 5.56406C0.236929 5.46549 0.333306 5.38573 0.444026 5.33118C0.554747 5.27664 0.676722 5.24883 0.800143 5.25L1.68702 5.25C2.16655 5.25 2.63202 5.46516 2.90577 5.8125L4.52624 7.78359L9.08811 7.71609L6.06749 1.05984C6.0157 0.94568 5.99335 0.820355 6.00249 0.695327C6.01163 0.570298 6.05196 0.449555 6.1198 0.344135C6.18764 0.238715 6.28082 0.151982 6.39083 0.0918644C6.50083 0.0317468 6.62416 0.000162838 6.74952 0L8.01092 0C8.1869 0.00353644 8.35983 0.0466697 8.51685 0.126197C8.67388 0.205724 8.81097 0.319602 8.91796 0.459375L14.7797 7.58437L17.4876 7.51312C17.6859 7.50234 18.2353 7.49859 18.3623 7.49859C20.9526 7.5 22.4995 8.34094 22.4995 9.75C22.4995 10.1934 22.3223 11.0156 21.1369 11.5387C20.437 11.8481 19.5033 12.0047 18.3614 12.0047C18.2358 12.0047 17.6878 12.0009 17.4867 11.9902L14.7792 11.918L8.90296 19.043C8.79588 19.1821 8.65891 19.2954 8.50216 19.3746C8.3454 19.4537 8.17288 19.4965 7.99733 19.5Z"}]
            }
        },
        {
            description: about.links.hotelsPart, path: hotelsPath, uniqueCl: "stays",
            iconValue: {
                width: 21, height: 16.5, pathes: [{fill: "#fff", fillRule: FILL_RULE.nonzero, d: "M18.75 7.06406C18.2772 6.85651 17.7664 6.74955 17.25 6.75L3.75 6.75C3.23368 6.7495 2.72288 6.85629 2.25 7.06359C1.58166 7.35587 1.01294 7.83652 0.613357 8.4468C0.213775 9.05708 0.000638647 9.77054 0 10.5L0 15.75C3.33067e-16 15.9489 0.0790176 16.1397 0.21967 16.2803C0.360322 16.421 0.551088 16.5 0.75 16.5C0.948912 16.5 1.13968 16.421 1.28033 16.2803C1.42098 16.1397 1.5 15.9489 1.5 15.75L1.5 15.375C1.50122 15.2759 1.54112 15.1812 1.61118 15.1112C1.68124 15.0411 1.77592 15.0012 1.875 15L19.125 15C19.2241 15.0012 19.3188 15.0411 19.3888 15.1112C19.4589 15.1812 19.4988 15.2759 19.5 15.375L19.5 15.75C19.5 15.9489 19.579 16.1397 19.7197 16.2803C19.8603 16.421 20.0511 16.5 20.25 16.5C20.4489 16.5 20.6397 16.421 20.7803 16.2803C20.921 16.1397 21 15.9489 21 15.75L21 10.5C20.9993 9.77062 20.7861 9.05726 20.3865 8.44707C19.9869 7.83688 19.4183 7.3563 18.75 7.06406ZM16.125 0L4.875 0C4.17881 0 3.51113 0.276562 3.01884 0.768845C2.52656 1.26113 2.25 1.92881 2.25 2.625L2.25 6C2.25002 6.02906 2.25679 6.05771 2.26979 6.0837C2.28278 6.10969 2.30163 6.1323 2.32486 6.14976C2.34809 6.16721 2.37505 6.17903 2.40363 6.18428C2.43221 6.18953 2.46162 6.18806 2.48953 6.18C2.89896 6.06025 3.32341 5.99964 3.75 6L3.94828 6C3.99456 6.00029 4.03932 5.98346 4.07393 5.95274C4.10855 5.92202 4.13058 5.87958 4.13578 5.83359C4.17669 5.46712 4.35115 5.12856 4.62586 4.88256C4.90056 4.63656 5.25625 4.50037 5.625 4.5L8.25 4.5C8.61899 4.50003 8.97503 4.63606 9.25002 4.88209C9.52502 5.12812 9.69969 5.46688 9.74063 5.83359C9.74583 5.87958 9.76786 5.92202 9.80247 5.95274C9.83709 5.98346 9.88184 6.00029 9.92813 6L11.0747 6C11.121 6.00029 11.1657 5.98346 11.2003 5.95274C11.235 5.92202 11.257 5.87958 11.2622 5.83359C11.3031 5.46736 11.4773 5.12899 11.7517 4.88303C12.0261 4.63707 12.3815 4.50072 12.75 4.5L15.375 4.5C15.744 4.50003 16.1 4.63606 16.375 4.88209C16.65 5.12812 16.8247 5.46688 16.8656 5.83359C16.8708 5.87958 16.8929 5.92202 16.9275 5.95274C16.9621 5.98346 17.0068 6.00029 17.0531 6L17.25 6C17.6766 5.99979 18.1011 6.06057 18.5105 6.18047C18.5384 6.18854 18.5679 6.19 18.5965 6.18473C18.6251 6.17945 18.6521 6.16759 18.6753 6.15009C18.6986 6.13258 18.7174 6.1099 18.7304 6.08385C18.7433 6.0578 18.7501 6.0291 18.75 6L18.75 2.625C18.75 1.92881 18.4734 1.26113 17.9812 0.768845C17.4889 0.276562 16.8212 0 16.125 0Z"}]
            }
        }
    ]

    let [isOpen, setIsOpen] = useState<boolean>(false);

    let tabIndexes : TabIndexes = {
        logo: 0, menu: 0, authorization: 0, burger: 0, hiddenAuthorization: 0
    }
    const setTabIndexes = () => {
        if(window.innerWidth < 768){
            if(location.pathname !== startPath) tabIndexes.logo = 1;
            if(window.innerWidth > 480){
                tabIndexes.authorization = 1 + tabIndexes.logo;
                tabIndexes.burger = 3 + tabIndexes.logo;
                tabIndexes.menu = 4 + tabIndexes.logo;
                tabIndexes.hiddenAuthorization = -1;
            } else {
                tabIndexes.authorization = -1;
                tabIndexes.burger = 1 + tabIndexes.logo;
                tabIndexes.menu = 2 + tabIndexes.logo;
                tabIndexes.hiddenAuthorization = 4 + tabIndexes.logo;
            }
        }
    }
    setTabIndexes();

    let [isScrolled, setIsScrolled] = useState<boolean>(false);
    useEffect(() => {
        const scrollHandler = () => {
            if(window.scrollY === 0){
                if(!isScrolled) setIsScrolled(false);
            } else {
                if(!isScrolled) setIsScrolled(true);
            }
        }

        window.addEventListener("scroll", scrollHandler);
        scrollHandler();
        return () => window.removeEventListener("scroll", scrollHandler);
    }, []);

    let isHoveredOnUnActive = useState<boolean>(false);
    let header = useRef<HTMLUListElement>(null);
    useEffect(() => {
        const headerElement = header.current;
        if(headerElement){
            if(isHoveredOnUnActive[0]){
                headerElement.classList.add("_hide-active");
            } else {
                headerElement.classList.remove("_hide-active");
            }
        }
    }, [isHoveredOnUnActive[0]])

    const makeIsHoveredOnUnActive = () => {
        isHoveredOnUnActive[1](true);
    }
    const unMakeIsHoveredOnUnActive = () => {
        isHoveredOnUnActive[1](false);
    }

    let hoveredIndex = useState<number>(1);
    const authorizationAbout : AuthorizationLink[] = [
        {id: 0, uniqueCl: "header__log-in", description: about.authorization.login, path: "#"},
        {id: 1, uniqueCl: "header__sign-up", description: about.authorization.signUp, path: "#"}
    ]
    return(
        <header 
            className={[
                "header", isOpen ? "_active" : "", (isScrolled) ? "_scroll" : "", isBlackWhite ? "black-white" : "start"
            ].filter(Boolean).join(" ")}
            ref={header}
        >
            <div className="container_header">
                <nav className="header__menu menu">
                    <ul className="menu__list">
                        {(location.pathname === startPath)
                            ? menuAbout.map((link, i, {length}) => 
                                <ActiveLink 
                                    key={i}
                                    about={link}
                                    tabIndex={tabIndexes.menu + Number(tabIndexes.menu !== 0 && tabIndexes.menu !== -1) * i}  
                                    makePseudoActive={makeIsHoveredOnUnActive}
                                    unMakePseudoActive={unMakeIsHoveredOnUnActive}
                                    onFocusEvent={(i === 0) ? (() => setIsOpen(true)) : undefined} 
                                    onBlurEvent={(i === length - 1) ? (() => setIsOpen(false)) : undefined}
                                    closeHeader={() => setIsOpen(false)}
                                />
                            ) : menuAbout.map((link, i) => 
                                (location.pathname !== link.path)
                                    ? <ActiveLink 
                                        key={i} about={link} tabIndex={tabIndexes.menu}  
                                        makePseudoActive={makeIsHoveredOnUnActive}
                                        unMakePseudoActive={unMakeIsHoveredOnUnActive}
                                        onFocusEvent={() => setIsOpen(true)} 
                                        onBlurEvent={() => setIsOpen(false)}
                                        closeHeader={() => setIsOpen(false)}
                                    />
                                    : <UnActiveLink key={i} {...link} />
                            )
                        }
                    </ul>
                    <div className="menu__authorization authorization-menu">
                        {authorizationAbout.map((link, i, {length}) =>
                            <AuthorizationHiddenLink 
                                about={link} key={i}
                                onBlurHandler={(i !== length - 1 && (window.innerWidth < 480)) ? () => setIsOpen(false) : undefined}
                                tabIndex={tabIndexes.hiddenAuthorization + Number(tabIndexes.hiddenAuthorization !== -1) * i} 
                            />
                        )}
                    </div>
                </nav>
                {(isBlackWhite) 
                    ? <NavLink 
                        className="header__logo" tabIndex={tabIndexes.logo} to={startPath}
                        onClick={unMakeIsHoveredOnUnActive}
                        onMouseEnter={makeIsHoveredOnUnActive} onFocus={makeIsHoveredOnUnActive}
                        onMouseLeave={(e) => {
                            if(document.activeElement !== e.currentTarget){
                                unMakeIsHoveredOnUnActive();
                            }
                        }} onBlur={unMakeIsHoveredOnUnActive}
                    >
                        {(isOpen) 
                            ? <svg viewBox="0 0 110.35 36" width="110.35" height="36">
                                <path d="M14.7282 5.57672L17.9466 8.00816L15.9805 10.5097C17.3379 12.0457 17.8382 13.7984 17.8382 15.7295C17.8382 17.9092 17.0161 20.9844 14.1195 22.3068C17.0512 23.7727 17.7649 25.8823 17.7649 28.1353C17.7649 32.9982 14.0463 36 8.93505 36C3.82384 36 0 32.8898 0 28.1353L4.32413 28.1353C4.32413 30.4233 6.43362 31.9242 8.93505 31.9242C11.4365 31.9242 13.4026 30.5667 13.4026 28.1353C13.4026 25.7038 11.1146 24.5949 8.93505 24.5949C3.4319 24.5949 0 21.2361 0 15.7295C0 10.2229 4.00229 6.79085 8.93823 6.79085C10.3339 6.79085 11.7615 6.9693 12.9788 7.79147L14.7282 5.57672ZM4.32413 15.7295C4.32413 18.8047 6.39857 20.6274 8.93505 20.6274C11.4365 20.6274 13.5109 18.7696 13.5109 15.7295C13.5109 12.6894 11.4397 10.7615 8.93823 10.7615C6.39857 10.7615 4.32413 12.6544 4.32413 15.7295Z" fill="rgb(255,255,255)"/>
                                <path d="M50.5673 0L50.5673 24.99L46.2432 24.99L46.2432 0L50.5673 0Z" fill="rgb(255,255,255)"/>
                                <path d="M69.9987 16.1947C69.9987 21.2711 66.5317 25.3819 60.8119 25.3819C55.0921 25.3819 51.6602 21.2711 51.6602 16.1947C51.6602 11.1534 55.1622 7.00751 60.7768 7.00751C66.3915 7.00751 69.9987 11.1534 69.9987 16.1947ZM56.0193 16.1947C56.0193 18.8747 57.6285 21.3795 60.8087 21.3795C63.9889 21.3795 65.5981 18.8779 65.5981 16.1947C65.5981 13.5498 63.7403 10.9749 60.8087 10.9749C57.6636 10.9749 56.0193 13.5498 56.0193 16.1947Z" fill="rgb(255,255,255)"/>
                                <path d="M75.4507 0L75.4507 9.76082C76.4864 7.93804 79.3829 6.93742 81.2407 6.93742C86.3869 6.93742 90.214 10.0827 90.214 16.1597C90.214 21.9499 86.3168 25.382 81.1355 25.382C78.991 25.382 76.8114 24.6681 75.4507 22.5586L75.164 24.99L71.0884 24.99L71.0884 0L75.4507 0ZM75.7344 16.1597C75.7344 19.34 78.0924 21.3444 80.8456 21.3444C83.6338 21.3444 85.8516 19.2348 85.8516 16.1597C85.8516 12.9794 83.6338 11.0132 80.8456 11.0132C78.0956 11.01 75.7344 13.0845 75.7344 16.1597Z" fill="rgb(255,255,255)"/>
                                <path d="M96.6987 19.2317C97.712 21.1819 100.032 22.0136 102.922 20.962C104.432 20.4107 106.207 19.1201 106.794 17.804L110.356 19.4356C109.27 21.8862 106.733 23.7982 104.213 24.7159C98.5023 26.7937 93.8244 24.5024 91.8934 19.1934C90.058 14.1553 92.1643 9.27963 97.5399 7.32301C103.081 5.30584 107.791 7.47278 109.633 14.5249L96.6987 19.2317ZM104.467 12.5619C103.416 10.5097 101.345 10.0476 98.993 10.9017C96.7752 11.7079 95.354 13.4446 95.5324 15.8123L104.467 12.5619Z" fill="rgb(255,255,255)"/>
                                <path d="M39.7626 11.9898C38.3489 9.04023 35.4017 7.00751 31.4702 7.00751C25.8555 7.00751 22.3535 11.1534 22.3535 16.1947C22.3535 19.4132 23.733 22.2436 26.2006 23.8842C26.3412 23.779 26.4258 23.7107 26.4258 23.7107C27.6566 22.9077 28.8573 22.0623 30.0258 21.1765C27.8244 20.5287 26.7127 18.4222 26.7127 16.1947C26.7127 13.5498 28.3601 10.9749 31.5021 10.9749C34.269 10.9749 36.0793 13.2686 36.274 15.75C37.4868 14.5463 38.6507 13.292 39.7626 11.9898ZM31.0601 25.3735C34.5418 22.9057 37.7611 20.0866 40.6652 16.963C40.3328 21.6795 36.9335 25.3819 31.5052 25.3819C31.3553 25.3819 31.2069 25.3791 31.0601 25.3735Z" fill="rgb(141,211,187)"/>
                                <path d="M43.3179 4.53785C38.8631 2.89989 35.6607 6.42437 35.6607 6.42437L38.6974 8.18979C39.835 7.53652 40.3417 8.17067 40.4723 8.51802C40.5648 8.7634 40.4405 9.03108 40.3417 9.17766L39.6024 10.1114C35.6129 14.9233 30.9223 19.1042 25.6868 22.5203C25.6868 22.5203 24.1063 23.795 23.265 23.8141C22.5576 23.8301 22.2422 23.2341 22.838 22.3801L21.3722 19.0723C21.3722 19.0723 17.558 21.5707 18.2972 25.9619C18.6095 27.8166 20.3525 29.1359 22.2039 28.8013C23.1503 28.6324 24.3198 28.1703 25.7505 27.2239L28.3826 25.5031C33.6181 22.0806 38.3119 17.8869 42.2982 13.0686L43.2032 11.9756C44.567 10.4237 45.1789 9.1458 45.386 8.13562C45.7046 6.59007 44.7901 5.07959 43.3179 4.53785Z" fill="rgb(141,211,187)"/>
                            </svg>
                            : <svg viewBox="0 0 110.35 36" width="110.35" height="36">
                                <path d="M14.7282 5.57672L17.9466 8.00816L15.9805 10.5097C17.3379 12.0457 17.8382 13.7984 17.8382 15.7295C17.8382 17.9092 17.0161 20.9844 14.1195 22.3068C17.0512 23.7727 17.7649 25.8823 17.7649 28.1353C17.7649 32.9982 14.0463 36 8.93505 36C3.82384 36 0 32.8898 0 28.1353L4.32413 28.1353C4.32413 30.4233 6.43362 31.9242 8.93505 31.9242C11.4365 31.9242 13.4026 30.5667 13.4026 28.1353C13.4026 25.7038 11.1146 24.5949 8.93505 24.5949C3.4319 24.5949 0 21.2361 0 15.7295C0 10.2229 4.00229 6.79085 8.93823 6.79085C10.3339 6.79085 11.7615 6.9693 12.9788 7.79147L14.7282 5.57672ZM4.32413 15.7295C4.32413 18.8047 6.39857 20.6274 8.93505 20.6274C11.4365 20.6274 13.5109 18.7696 13.5109 15.7295C13.5109 12.6894 11.4397 10.7615 8.93823 10.7615C6.39857 10.7615 4.32413 12.6544 4.32413 15.7295Z" fill="rgb(17,34,17)" fillRule="nonzero" />
                                <path d="M50.5673 0L50.5673 24.99L46.2432 24.99L46.2432 0L50.5673 0Z" fill="rgb(17,34,17)" fillRule="nonzero" />
                                <path d="M69.9987 16.1947C69.9987 21.2711 66.5317 25.3819 60.8119 25.3819C55.0921 25.3819 51.6602 21.2711 51.6602 16.1947C51.6602 11.1534 55.1622 7.00751 60.7768 7.00751C66.3915 7.00751 69.9987 11.1534 69.9987 16.1947ZM56.0193 16.1947C56.0193 18.8747 57.6285 21.3795 60.8087 21.3795C63.9889 21.3795 65.5981 18.8779 65.5981 16.1947C65.5981 13.5498 63.7403 10.9749 60.8087 10.9749C57.6636 10.9749 56.0193 13.5498 56.0193 16.1947Z" fill="rgb(17,34,17)" fillRule="nonzero" />
                                <path d="M75.4507 0L75.4507 9.76082C76.4864 7.93804 79.3829 6.93742 81.2407 6.93742C86.3869 6.93742 90.214 10.0827 90.214 16.1597C90.214 21.9499 86.3168 25.382 81.1355 25.382C78.991 25.382 76.8114 24.6681 75.4507 22.5586L75.164 24.99L71.0884 24.99L71.0884 0L75.4507 0ZM75.7344 16.1597C75.7344 19.34 78.0924 21.3444 80.8456 21.3444C83.6338 21.3444 85.8516 19.2348 85.8516 16.1597C85.8516 12.9794 83.6338 11.0132 80.8456 11.0132C78.0956 11.01 75.7344 13.0845 75.7344 16.1597Z" fill="rgb(17,34,17)" fillRule="nonzero" />
                                <path d="M96.6987 19.2317C97.712 21.1819 100.032 22.0136 102.922 20.962C104.432 20.4107 106.207 19.1201 106.794 17.804L110.356 19.4356C109.27 21.8862 106.733 23.7982 104.213 24.7159C98.5023 26.7937 93.8244 24.5024 91.8934 19.1934C90.058 14.1553 92.1643 9.27963 97.5399 7.32301C103.081 5.30584 107.791 7.47278 109.633 14.5249L96.6987 19.2317ZM104.467 12.5619C103.416 10.5097 101.345 10.0476 98.993 10.9017C96.7752 11.7079 95.354 13.4446 95.5324 15.8123L104.467 12.5619Z" fill="rgb(17,34,17)" fillRule="nonzero" />
                                <path d="M39.7626 11.9898C38.3489 9.04023 35.4017 7.00751 31.4702 7.00751C25.8555 7.00751 22.3535 11.1534 22.3535 16.1947C22.3535 19.4132 23.733 22.2436 26.2005 23.8842C26.3412 23.779 26.4258 23.7107 26.4258 23.7107C27.6566 22.9077 28.8573 22.0623 30.0258 21.1765C27.8244 20.5287 26.7127 18.4222 26.7127 16.1947C26.7127 13.5498 28.3601 10.9749 31.5021 10.9749C34.269 10.9749 36.0793 13.2686 36.274 15.75C37.4868 14.5463 38.6507 13.292 39.7626 11.9898ZM31.0601 25.3735C34.5418 22.9057 37.7611 20.0866 40.6652 16.963C40.3328 21.6795 36.9335 25.3819 31.5052 25.3819C31.3553 25.3819 31.2069 25.3791 31.0601 25.3735Z" fill="rgb(141,211,187)" fillRule="evenodd" />
                                <path d="M43.3179 4.53785C38.8631 2.89989 35.6607 6.42437 35.6607 6.42437L38.6974 8.18979C39.835 7.53652 40.3417 8.17067 40.4723 8.51802C40.5648 8.7634 40.4405 9.03108 40.3417 9.17766L39.6024 10.1114C35.6129 14.9233 30.9223 19.1042 25.6868 22.5203C25.6868 22.5203 24.1063 23.795 23.265 23.8141C22.5576 23.8301 22.2422 23.2341 22.838 22.3801L21.3722 19.0723C21.3722 19.0723 17.558 21.5707 18.2972 25.9619C18.6095 27.8166 20.3525 29.1359 22.2039 28.8013C23.1503 28.6324 24.3198 28.1703 25.7505 27.2239L28.3826 25.5031C33.6181 22.0806 38.3119 17.8869 42.2982 13.0686L43.2032 11.9756C44.567 10.4237 45.1789 9.1458 45.386 8.13562C45.7046 6.59007 44.7901 5.07959 43.3179 4.53785Z" fill="rgb(141,211,187)" fillRule="nonzero" />
                            </svg>
                        }
                    </NavLink>
                    : <NavLink className="header__logo" tabIndex={-1} to={startPath}>
                        <svg viewBox="0 0 110.35 36" width="110.35" height="36">
                            <path d="M14.7282 5.57672L17.9466 8.00816L15.9805 10.5097C17.3379 12.0457 17.8382 13.7984 17.8382 15.7295C17.8382 17.9092 17.0161 20.9844 14.1195 22.3068C17.0512 23.7727 17.7649 25.8823 17.7649 28.1353C17.7649 32.9982 14.0463 36 8.93505 36C3.82384 36 0 32.8898 0 28.1353L4.32413 28.1353C4.32413 30.4233 6.43362 31.9242 8.93505 31.9242C11.4365 31.9242 13.4026 30.5667 13.4026 28.1353C13.4026 25.7038 11.1146 24.5949 8.93505 24.5949C3.4319 24.5949 0 21.2361 0 15.7295C0 10.2229 4.00229 6.79085 8.93823 6.79085C10.3339 6.79085 11.7615 6.9693 12.9788 7.79147L14.7282 5.57672ZM4.32413 15.7295C4.32413 18.8047 6.39857 20.6274 8.93505 20.6274C11.4365 20.6274 13.5109 18.7696 13.5109 15.7295C13.5109 12.6894 11.4397 10.7615 8.93823 10.7615C6.39857 10.7615 4.32413 12.6544 4.32413 15.7295Z" fill="rgb(255,255,255)"/>
                            <path d="M50.5673 0L50.5673 24.99L46.2432 24.99L46.2432 0L50.5673 0Z" fill="rgb(255,255,255)"/>
                            <path d="M69.9987 16.1947C69.9987 21.2711 66.5317 25.3819 60.8119 25.3819C55.0921 25.3819 51.6602 21.2711 51.6602 16.1947C51.6602 11.1534 55.1622 7.00751 60.7768 7.00751C66.3915 7.00751 69.9987 11.1534 69.9987 16.1947ZM56.0193 16.1947C56.0193 18.8747 57.6285 21.3795 60.8087 21.3795C63.9889 21.3795 65.5981 18.8779 65.5981 16.1947C65.5981 13.5498 63.7403 10.9749 60.8087 10.9749C57.6636 10.9749 56.0193 13.5498 56.0193 16.1947Z" fill="rgb(255,255,255)"/>
                            <path d="M75.4507 0L75.4507 9.76082C76.4864 7.93804 79.3829 6.93742 81.2407 6.93742C86.3869 6.93742 90.214 10.0827 90.214 16.1597C90.214 21.9499 86.3168 25.382 81.1355 25.382C78.991 25.382 76.8114 24.6681 75.4507 22.5586L75.164 24.99L71.0884 24.99L71.0884 0L75.4507 0ZM75.7344 16.1597C75.7344 19.34 78.0924 21.3444 80.8456 21.3444C83.6338 21.3444 85.8516 19.2348 85.8516 16.1597C85.8516 12.9794 83.6338 11.0132 80.8456 11.0132C78.0956 11.01 75.7344 13.0845 75.7344 16.1597Z" fill="rgb(255,255,255)"/>
                            <path d="M96.6987 19.2317C97.712 21.1819 100.032 22.0136 102.922 20.962C104.432 20.4107 106.207 19.1201 106.794 17.804L110.356 19.4356C109.27 21.8862 106.733 23.7982 104.213 24.7159C98.5023 26.7937 93.8244 24.5024 91.8934 19.1934C90.058 14.1553 92.1643 9.27963 97.5399 7.32301C103.081 5.30584 107.791 7.47278 109.633 14.5249L96.6987 19.2317ZM104.467 12.5619C103.416 10.5097 101.345 10.0476 98.993 10.9017C96.7752 11.7079 95.354 13.4446 95.5324 15.8123L104.467 12.5619Z" fill="rgb(255,255,255)"/>
                            <path d="M39.7626 11.9898C38.3489 9.04023 35.4017 7.00751 31.4702 7.00751C25.8555 7.00751 22.3535 11.1534 22.3535 16.1947C22.3535 19.4132 23.733 22.2436 26.2006 23.8842C26.3412 23.779 26.4258 23.7107 26.4258 23.7107C27.6566 22.9077 28.8573 22.0623 30.0258 21.1765C27.8244 20.5287 26.7127 18.4222 26.7127 16.1947C26.7127 13.5498 28.3601 10.9749 31.5021 10.9749C34.269 10.9749 36.0793 13.2686 36.274 15.75C37.4868 14.5463 38.6507 13.292 39.7626 11.9898ZM31.0601 25.3735C34.5418 22.9057 37.7611 20.0866 40.6652 16.963C40.3328 21.6795 36.9335 25.3819 31.5052 25.3819C31.3553 25.3819 31.2069 25.3791 31.0601 25.3735Z" fill="rgb(141,211,187)"/>
                            <path d="M43.3179 4.53785C38.8631 2.89989 35.6607 6.42437 35.6607 6.42437L38.6974 8.18979C39.835 7.53652 40.3417 8.17067 40.4723 8.51802C40.5648 8.7634 40.4405 9.03108 40.3417 9.17766L39.6024 10.1114C35.6129 14.9233 30.9223 19.1042 25.6868 22.5203C25.6868 22.5203 24.1063 23.795 23.265 23.8141C22.5576 23.8301 22.2422 23.2341 22.838 22.3801L21.3722 19.0723C21.3722 19.0723 17.558 21.5707 18.2972 25.9619C18.6095 27.8166 20.3525 29.1359 22.2039 28.8013C23.1503 28.6324 24.3198 28.1703 25.7505 27.2239L28.3826 25.5031C33.6181 22.0806 38.3119 17.8869 42.2982 13.0686L43.2032 11.9756C44.567 10.4237 45.1789 9.1458 45.386 8.13562C45.7046 6.59007 44.7901 5.07959 43.3179 4.53785Z" fill="rgb(141,211,187)"/>
                        </svg>
                    </NavLink>
                }
                <nav className="header__authorization">
                    {authorizationAbout.map((link, i) =>
                        <AuthorizationLink 
                            key={i}
                            about={link} hoveredIndex={hoveredIndex} isHovered={hoveredIndex[0] === i}
                            tabIndex={tabIndexes.authorization + Number(tabIndexes.authorization !== 0) * i} 
                        />
                    )}
                </nav>
                <button 
                    className="header__burger" 
                    onClick={() => setIsOpen((prev) => !prev)} tabIndex={tabIndexes.burger}
                >
                    <span></span>
                </button>
            </div>
        </header>
    )
}